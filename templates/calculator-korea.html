{% extends "base.html" %}

{% block title %}Сторінка калькулятора - BestWorldAuto{% endblock %}

{% block head %}
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, height=device-height"
/>
<!-- CSRF Token -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styl.css') }}" />
  <!-- Scripts -->
  <script src="{{ url_for('static', filename='js/apppp.js') }}" defer></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" /> 
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0788ff" />
  <meta name="msapplication-TileColor" content="#0788ff" />
  <meta name="theme-color" content="#ffffff" /> 
  <style>
    .gradient-bg {
  background: linear-gradient(135deg, #16a34a 0%, #0d9488 100%);
}

.text-white {
  color: white;
}

.rounded-2xl {
  border-radius: 1rem;
}

.p-8 {
  padding: 2rem;
}

.md\:p-12 {
  @media (min-width: 768px) {
    padding: 3rem;
  }
}

.shadow-2xl {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.mb-8 {
  margin-bottom: 2rem;
}

.overflow-hidden {
  overflow: hidden;
}

.relative {
  position: relative;
}

.max-w-4xl {
  max-width: 56rem;
}

.mx-auto {
  margin-left: auto;
  margin-right: auto;
}

.text-center {
  text-align: center;
}

.z-10 {
  z-index: 10;
}

.text-4xl {
  font-size: 2.25rem;
  line-height: 2.5rem;
}

.md\:text-5xl {
  @media (min-width: 768px) {
    font-size: 3rem;
    line-height: 1;
  }
}

.font-extrabold {
  font-weight: 800;
}

.leading-tight {
  line-height: 1.25;
}

.mb-4 {
  margin-bottom: 1rem;
}

.animate-fadeIn {
  animation: fadeIn 0.5s ease-in-out;
}

.text-xl {
  font-size: 1.25rem;
  line-height: 1.75rem;
}

.opacity-90 {
  opacity: 0.9;
}

.mb-6 {
  margin-bottom: 1.5rem;
}

.absolute {
  position: absolute;
}

.bottom-0 {
  bottom: 0;
}

.left-0 {
  left: 0;
}

.right-0 {
  right: 0;
}

.w-full {
  width: 100%;
}

.h-16 {
  height: 4rem;
}

.bg-gradient-to-t {
  background-image: linear-gradient(to top, var(--tw-gradient-stops));
}

.from-green-600\/10 {
  --tw-gradient-from: rgba(5, 150, 105, 0.1);
  --tw-gradient-to: rgba(5, 150, 105, 0);
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
}

.to-transparent {
  --tw-gradient-to: transparent;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
  </style>
{% endblock %}
{% block content %}
    <div id="app">
      <div class="usa-calc">
        <div class="usa-calc__wrap">
          <!-- Переделанный section-heading в новом стиле -->
          <section class="gradient-bg text-white rounded-2xl p-8 md:p-12 shadow-2xl mb-8 overflow-hidden relative">
            <div class="max-w-4xl mx-auto text-center relative z-10">
              <!-- Заголовок с флажком -->
              <div class="flex items-center justify-center gap-3 mb-4 animate-fadeIn">
                <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">
                  Калькулятор BestWorldAuto
                </h1>
                <img src="{{ url_for('static', filename='images/img/korea-flag-color.webp') }}" 
                     alt="Флаг" 
                     class="h-10 w-auto rounded shadow-md" />
              </div>
          
              <p class="text-xl opacity-90 mb-6">
                Точний розрахунок вартості доставки авто із Кореї
              </p>
              <div class="absolute bottom-0 left-0 right-0 w-full h-16 bg-gradient-to-t from-green-600/10 to-transparent"></div>
            </div>
          </section>
          
          <!-- / section-heading -->
          {% raw %}
          <calculator-korea
                :calculator-vars-props="{&quot;customsPriceSedan&quot;:{&quot;val&quot;:&quot;1400&quot;,&quot;name&quot;:&quot;customsPriceSedan&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0426\u0456\u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u043c\u043e\u0436\u043a\u0438 \u0441\u0435\u0434\u0430\u043d\u0430, \u0443\u043c\u043e\u0432\u0430 \u0437\u0430\u043b\u0438\u0448\u0430\u0454\u0442\u044c\u0441\u044f 0&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;customsPriceSuv&quot;:{&quot;val&quot;:&quot;1400&quot;,&quot;name&quot;:&quot;customsPriceSuv&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0426\u0456\u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u043c\u043e\u0436\u043a\u0438 \u043a\u0440\u043e\u0441\u043e\u0432\u0435\u0440\u0430, \u0443\u043c\u043e\u0432\u0430 \u0437\u0430\u043b\u0438\u0448\u0430\u0454\u0442\u044c\u0441\u044f 0&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;customsPriceBigSuv&quot;:{&quot;val&quot;:&quot;1400&quot;,&quot;name&quot;:&quot;customsPriceBigSuv&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0426\u0456\u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u043c\u043e\u0436\u043a\u0438 \u0432\u0435\u043b\u0438\u043a\u043e\u0433\u043e \u043a\u0440\u043e\u0441\u043e\u0432\u0435\u0440\u0430, \u0443\u043c\u043e\u0432\u0430 \u0437\u0430\u043b\u0438\u0448\u0430\u0454\u0442\u044c\u0441\u044f 0&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;customsPricePickup&quot;:{&quot;val&quot;:&quot;1400&quot;,&quot;name&quot;:&quot;customsPricePickup&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0426\u0456\u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u043c\u043e\u0436\u043a\u0438 \u043f\u0456\u043a\u0430\u043f\u0430, \u0443\u043c\u043e\u0432\u0430 \u0437\u0430\u043b\u0438\u0448\u0430\u0454\u0442\u044c\u0441\u044f 0&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;customsPriceMinivan&quot;:{&quot;val&quot;:&quot;1400&quot;,&quot;name&quot;:&quot;customsPriceMinivan&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0426\u0456\u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u043c\u043e\u0436\u043a\u0438 \u043c\u0456\u043d\u0456\u0432\u0435\u043d\u0430, \u0443\u043c\u043e\u0432\u0430 \u0437\u0430\u043b\u0438\u0448\u0430\u0454\u0442\u044c\u0441\u044f 0&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;baseExciseDieselLessThen&quot;:{&quot;val&quot;:&quot;91&quot;,&quot;name&quot;:&quot;baseExciseDieselLessThen&quot;,&quot;condition&quot;:{&quot;value&quot;:3500},&quot;description&quot;:&quot;\u0411\u0430\u0437\u043e\u0432\u0438\u0439 \u0430\u043a\u0446\u0438\u0437, \u0432 \u0443\u043c\u043e\u0432\u0456 - \u0447\u0438\u0441\u043b\u043e (\u041e\u0431\u044a\u0435\u043c \u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044f | \u0434\u0438\u0437\u0435\u043b\u044c \u0432 \u043a\u0443\u0431 \u0441\u043c ) \u0434\u043e \u044f\u043a\u043e\u0433\u043e \u0434\u0456\u0454 \u0434\u0430\u043d\u0438\u0439 \u0430\u043a\u0446\u0438\u0437 \u0422\u043e\u0431\u0442\u043e \u043e\u0431\u0454\u043c \u0434\u0432\u0438\u0433\u0443\u043d\u0430 &lt; \u0443\u043c\u043e\u0432\u0430&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;baseExciseDiesel&quot;:{&quot;val&quot;:&quot;182&quot;,&quot;name&quot;:&quot;baseExciseDiesel&quot;,&quot;condition&quot;:{&quot;value&quot;:3500},&quot;description&quot;:&quot;\u0411\u0430\u0437\u043e\u0432\u0438\u0439 \u0430\u043a\u0446\u0438\u0437 \u0434\u043b\u044f \u0430\u0432\u0442\u043e \u0437 \u043e\u0431\u0454\u043c\u043e\u043c \u0434\u0432\u0438\u0433\u0443\u043d\u0430 \u0431\u0456\u043b\u044c\u0448\u0435 \u0430\u0431\u043e \u0440\u0456\u0432\u043d\u0435 \u043d\u0456\u0436 \u0443\u043c\u043e\u0432\u0430&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;baseExciseLessThen&quot;:{&quot;val&quot;:&quot;61&quot;,&quot;name&quot;:&quot;baseExciseLessThen&quot;,&quot;condition&quot;:{&quot;value&quot;:3000},&quot;description&quot;:&quot;\u0411\u0430\u0437\u043e\u0432\u0438\u0439 \u0430\u043a\u0446\u0438\u0437, \u0432 \u0443\u043c\u043e\u0432\u0456 - \u0447\u0438\u0441\u043b\u043e (\u041e\u0431\u044a\u0435\u043c \u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044f | \u0431\u0435\u043d\u0437\u0438\u043d \u0432 \u043a\u0443\u0431 \u0441\u043c ) \u0434\u043e \u044f\u043a\u043e\u0433\u043e \u0434\u0456\u0454 \u0434\u0430\u043d\u0438\u0439 \u0430\u043a\u0446\u0438\u0437 \u0422\u043e\u0431\u0442\u043e \u043e\u0431\u0454\u043c \u0434\u0432\u0438\u0433\u0443\u043d\u0430 &lt; \u0443\u043c\u043e\u0432\u0430&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;baseExcise&quot;:{&quot;val&quot;:&quot;121&quot;,&quot;name&quot;:&quot;baseExcise&quot;,&quot;condition&quot;:{&quot;value&quot;:3000},&quot;description&quot;:&quot;\u0411\u0430\u0437\u043e\u0432\u0438\u0439 \u0430\u043a\u0446\u0438\u0437 \u0434\u043b\u044f \u0430\u0432\u0442\u043e \u0437 \u043e\u0431\u0454\u043c\u043e\u043c \u0434\u0432\u0438\u0433\u0443\u043d\u0430 \u0431\u0456\u043b\u044c\u0448\u0435 \u0430\u0431\u043e \u0440\u0456\u0432\u043d\u0435 \u043d\u0456\u0436 \u0443\u043c\u043e\u0432\u0430&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;carYearLessThen&quot;:{&quot;val&quot;:null,&quot;name&quot;:&quot;carYearLessThen&quot;,&quot;condition&quot;:{&quot;value&quot;:15},&quot;description&quot;:&quot;\u041a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442 \u0432\u0456\u043a\u0443 \u0430\u0432\u0442\u043e. \u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438 \u043f\u0443\u0441\u0442\u0435, \u0432 \u0443\u043c\u043e\u0432\u0456 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0432\u0456\u043a \u0430\u0432\u0442\u043e \u0434\u043e \u044f\u043a\u043e\u0433\u043e \u043a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442 \u0431\u0443\u0434\u0435 \u0440\u0456\u0432\u043d\u0438\u0439 \u0432\u0456\u043a\u0443 \u0430\u0432\u0442\u043e(\u0432 \u0440\u043e\u043a\u0430\u0445), \u0430 \u044f\u043a\u0449\u043e \u0430\u0432\u0442\u043e \u0441\u0442\u0430\u0440\u0448\u0435 \u0437\u0430 \u0434\u0430\u043d\u043d\u0443 \u0443\u043c\u043e\u0432\u0443 \u0442\u043e \u043a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442 \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044e \u0434\u0430\u043d\u043d\u043e\u0457 \u0443\u043c\u043e\u0432\u0438 \u0442\u043e\u0431\u0442\u043e  \u042f\u041a\u0429\u041e(\u0432\u0456\u043a_\u0430\u0432\u0442\u043e &lt; \u0417\u041d\u0410\u0427\u0415\u041d\u041d\u042f_\u0423\u041c\u041e\u0412\u0410 ) \u0442\u043e \u041a\u041e\u0415\u0424\u0406\u0426\u0406\u0404\u041d\u0422 = \u0432\u0456\u043a_\u0430\u0432\u0442\u043e \u0456\u043d\u0430\u043a\u0448\u0435 - \u041a\u041e\u0415\u0424\u0406\u0426\u0406\u0404\u041d\u0422 = \u0417\u041d\u0410\u0427\u0415\u041d\u041d\u042f_\u0423\u041c\u041e\u0412\u0410&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;duty&quot;:{&quot;val&quot;:0.10000000000000001,&quot;name&quot;:&quot;duty&quot;,&quot;types&quot;:[&quot;p3cars&quot;,&quot;p2cars&quot;,&quot;mediumtruck&quot;],&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u041c\u0438\u0442\u043e (\u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 0.1 ; 0.01 ; 0.05 )&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;vat&quot;:{&quot;val&quot;:0.20000000000000001,&quot;name&quot;:&quot;vat&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u041d\u0414\u0421 (\u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 0.2; 0.05 \u0456 \u0442\u0434)&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;broker&quot;:{&quot;val&quot;:100,&quot;name&quot;:&quot;broker&quot;,&quot;types&quot;:[&quot;p3cars&quot;,&quot;p2cars&quot;,&quot;mediumtruck&quot;],&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u041f\u043e\u0441\u043b\u0443\u0433\u0438 \u0431\u0440\u043e\u043a\u0435\u0440\u0430 \u0432 \u0434\u043e\u043b\u0430\u0440\u0430\u0445&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;kyivDelivery&quot;:{&quot;val&quot;:&quot;185&quot;,&quot;name&quot;:&quot;kyivDelivery&quot;,&quot;types&quot;:[&quot;p3cars&quot;,&quot;p2cars&quot;,&quot;mediumtruck&quot;],&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e \u043c\u0456\u0441\u0442\u0430 \u0432 \u0434\u043e\u043b\u0430\u0440\u0430\u0445&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;cityName&quot;:{&quot;val&quot;:&quot;\u0425\u0430\u0440\u044c\u043a\u043e\u0432&quot;,&quot;name&quot;:&quot;cityName&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u041d\u0430\u0437\u0432\u0430 \u043c\u0456\u0441\u0442\u0430&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;certification&quot;:{&quot;val&quot;:&quot;150&quot;,&quot;name&quot;:&quot;certification&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0421\u0435\u0440\u0442\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u044f \u0432 \u0434\u043e\u043b\u0430\u0440\u0430\u0445&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;register_koef&quot;:{&quot;val&quot;:0.029999999999999999,&quot;name&quot;:&quot;register_koef&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u0432 \u043a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442(%)&quot;,&quot;conditional_data&quot;:[{&quot;from_condition&quot;:&quot;12380&quot;,&quot;to_condition&quot;:&quot;21770&quot;,&quot;value&quot;:0.040000000000000001},{&quot;from_condition&quot;:&quot;21770&quot;,&quot;to_condition&quot;:9999999,&quot;value&quot;:0.050000000000000003}],&quot;is_conditional_data&quot;:true},&quot;services&quot;:{&quot;val&quot;:100,&quot;name&quot;:&quot;services&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u041f\u043e\u0441\u043b\u0443\u0433\u0438 \u043d\u0430\u0448\u043e\u0457 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 \u0432 \u0434\u043e\u043b\u0430\u0440\u0430\u0445&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;insurance&quot;:{&quot;val&quot;:0.02,&quot;name&quot;:&quot;insurance&quot;,&quot;types&quot;:[&quot;p3cars&quot;,&quot;p2cars&quot;,&quot;mediumtruck&quot;],&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 (%) \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 0.02 \u0456 \u0442\u0434&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;exciseTaxElectro&quot;:{&quot;val&quot;:&quot;1.21&quot;,&quot;name&quot;:&quot;exciseTaxElectro&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u041a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442 \u0442\u0430\u043a\u0441\u0430 \u0434\u043b\u044f \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f (\u044f\u043a\u0438\u0439 \u043c\u043d\u043e\u0436\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u043f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c \u0434\u0432\u0438\u0433\u0443\u043d\u0430 \u0432 \u043a\u0412\u0442)&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;currencyDoll&quot;:{&quot;val&quot;:&quot;28&quot;,&quot;name&quot;:&quot;currencyDoll&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u041a\u0443\u0440\u0441 \u0434\u043e\u043b\u0430\u0440\u0430&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;register_price&quot;:{&quot;val&quot;:900,&quot;name&quot;:&quot;register_price&quot;,&quot;types&quot;:[&quot;p3cars&quot;,&quot;p2cars&quot;,&quot;mediumtruck&quot;],&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0426\u0456\u043d\u0430 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457 \u0432 \u0433\u0440\u043d&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;expedit&quot;:{&quot;val&quot;:350,&quot;name&quot;:&quot;expedit&quot;,&quot;types&quot;:[&quot;p3cars&quot;,&quot;p2cars&quot;],&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0415\u043a\u0441\u043f\u0435\u0434\u0438\u0446\u0456\u044f&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;auction_koef&quot;:{&quot;val&quot;:0.021999999999999999,&quot;name&quot;:&quot;auction_koef&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0410\u0443\u043a\u0446\u0456\u043e\u043d\u043d\u0438\u0439 \u0437\u0431\u0456\u0440 (0.01 = 1% \u0432\u0456\u0434 \u0446\u0456\u043d\u0438 \u0430\u0432\u0442\u043e)&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;convert&quot;:{&quot;val&quot;:&quot;0.005&quot;,&quot;name&quot;:&quot;convert&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0456\u044f (0.01 = 1% \u0432\u0456\u0434 \u0446\u0456\u043d\u0438 \u0430\u0432\u0442\u043e + \u0430\u0443\u043a\u0446\u0456\u043e\u043d\u0438\u0439 \u0437\u0431\u0456\u0440)&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;port_delivery&quot;:{&quot;val&quot;:100,&quot;name&quot;:&quot;port_delivery&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e \u043f\u043e\u0440\u0442\u0443&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;ro_delivery&quot;:{&quot;val&quot;:1650,&quot;name&quot;:&quot;ro_delivery&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 R0 - R0&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;ro_delivery_big&quot;:{&quot;val&quot;:1800,&quot;name&quot;:&quot;ro_delivery_big&quot;,&quot;types&quot;:[&quot;big_suv&quot;,&quot;mediumtruck&quot;,&quot;minivan&quot;],&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 R0 - R0 (\u0412\u0435\u043b\u0438\u043a\u043e\u0433\u0430\u0431\u0430\u0440\u0438\u0442\u043d\u0438\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442)&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false},&quot;korea_fee&quot;:{&quot;val&quot;:200,&quot;name&quot;:&quot;korea_fee&quot;,&quot;condition&quot;:{&quot;value&quot;:0},&quot;description&quot;:&quot;Korea fee&quot;,&quot;conditional_data&quot;:[],&quot;is_conditional_data&quot;:false}}"

                :car-types-props="[{&quot;id&quot;:&quot;sedan&quot;,&quot;name&quot;:&quot;\u0421\u0435\u0434\u0430\u043d&quot;,&quot;picture&quot;:&quot;https:\/\/bestautoshipping.com.ua\/img\/content\/usa-calc\/sedan.png&quot;},{&quot;id&quot;:&quot;suv&quot;,&quot;name&quot;:&quot;\u041a\u0440\u043e\u0441\u043e\u0432\u0435\u0440&quot;,&quot;picture&quot;:&quot;https:\/\/bestautoshipping.com.ua\/img\/content\/usa-calc\/suv.png&quot;},{&quot;id&quot;:&quot;big_suv&quot;,&quot;name&quot;:&quot;\u0412\u0435\u043b\u0438\u043a\u0438\u0439 \u043a\u0440\u043e\u0441\u043e\u0432\u0435\u0440&quot;,&quot;picture&quot;:&quot;https:\/\/bestautoshipping.com.ua\/img\/content\/korea-calc\/big-crossover.png&quot;},{&quot;id&quot;:&quot;mediumtruck&quot;,&quot;name&quot;:&quot;\u0414\u0443\u0436\u0435 \u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u0434\u0436\u0438\u043f&quot;,&quot;picture&quot;:&quot;https:\/\/bestautoshipping.com.ua\/img\/content\/usa-calc\/pikup.png&quot;},{&quot;id&quot;:&quot;minivan&quot;,&quot;name&quot;:&quot;\u041c\u0456\u043d\u0456\u0432\u0435\u043d&quot;,&quot;picture&quot;:&quot;https:\/\/bestautoshipping.com.ua\/img\/content\/usa-calc\/minivan.png&quot;}]"

                :fuel-types-props="[{&quot;id&quot;:1,&quot;name&quot;:&quot;\u0414\u0438\u0437\u0435\u043b\u044c&quot;},{&quot;id&quot;:2,&quot;name&quot;:&quot;\u0411\u0435\u043d\u0437\u0438\u043d&quot;},{&quot;id&quot;:3,&quot;name&quot;:&quot;\u0415\u043b\u0435\u043a\u0442\u0440\u043e&quot;},{&quot;id&quot;:4,&quot;name&quot;:&quot;\u0413\u0456\u0431\u0440\u0438\u0434&quot;},{&quot;id&quot;:5,&quot;name&quot;:&quot;\u0413\u0430\u0437(LPG)&quot;}]"

                :container-images="{&quot;p3cars&quot;:&quot;\/img\/content\/usa-calc\/container-sedan.jpg&quot;,&quot;p2cars&quot;:&quot;\/img\/content\/usa-calc\/container-suv.jpg&quot;,&quot;mediumtruck&quot;:&quot;\/img\/content\/usa-calc\/container-pikup.jpg&quot;,&quot;moto&quot;:&quot;\/img\/content\/usa-calc\/container-motocycle1.jpg&quot;,&quot;miniven&quot;:&quot;\/img\/content\/usa-calc\/container-minivan.jpg&quot;,&quot;heavy&quot;:&quot;\/img\/content\/usa-calc\/container-big-crossover.jpg&quot;}"

              inline-template
          >
          <form action="" class="korea-calc-form korea-calc__korea-calc-form bg-white rounded-2xl shadow-lg p-8 transition-all duration-300">
            <div class="korea-calc-form__body space-y-6">
              
              <!-- Цена -->
              <div class="form-field">
                <label for="price" class="form-field__label block text-sm font-medium text-gray-700 mb-3 flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z" />
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd" />
                  </svg>
                  Ціна ($):
                </label>
                <input 
                  type="number" 
                  min="1" 
                  v-model="formPrice" 
                  name="price"
                  class="input-field w-full h-14 px-5 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-200 bg-white" 
                  placeholder="Введіть ціну"
                >
              </div>
          
              <!-- Тип авто -->
              <div class="form-field">
                <label class="form-field__label block text-sm font-medium text-gray-700 mb-4 flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" />
                    <path fill-rule="evenodd" d="M3 4a1 1 0 00-1 1v8a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-1a1 1 0 011-1h2a1 1 0 011 1v1a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H19a1 1 0 001-1V5a1 1 0 00-1-1H3zm5 3a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H9a1 1 0 01-1-1V7z" clip-rule="evenodd" />
                  </svg>
                  Тип авто:
                </label>
          
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
                  <div 
                    v-for="(item, index) in carTypes"
                    :key="item.id"
                    @click.prevent="changeCarType(item.id)"
                    class="group relative"
                  >
                    <input
                      type="radio"
                      :id="'car_' + index"
                      name="car"
                      :checked="item.id == carType"
                      :value="item.id"
                      class="absolute opacity-0 h-0 w-0 peer"
                    />
                    <label 
                      :for="'car_' + index"
                      class="flex flex-col items-center justify-center p-5 h-full border-2 rounded-xl cursor-pointer transition-all duration-300 transform bg-white
                             hover:border-green-400 hover:shadow-lg hover:scale-105
                             focus:outline-none focus:ring-2 focus:ring-green-500"
                      :class="{'border-green-500 bg-green-50': item.id == carType, 'border-gray-200': item.id != carType}"
                    >
                      <div class="h-24 flex items-center justify-center mb-3">
                        <img
                          :src="item.picture"
                          :alt="item.name"
                          class="max-h-full max-w-full object-contain"
                        />
                      </div>
                      <span class="text-sm font-medium text-center text-gray-700">{{ item.name }}</span>
                    </label>
                  </div>
                </div>
              </div>
          
              <!-- Тип палива -->
              <div class="form-field">
                <label for="fuel_id" class="form-field__label block text-sm font-medium text-gray-700 mb-3 flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5 3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2H5zm0 2h10v7h-2l-1 2H8l-1-2H5V5z" clip-rule="evenodd" />
                  </svg>
                  Тип палива:
                </label>
                <v-select
                  name="fuel_id"
                  id="fuel_id"
                  v-model="fuelId"
                  :filterable="false"
                  :options="fuelTypesProps"
                  :reduce="option => option.id"
                  label="name"
                  class="v-select-custom bg-white"
                >
                  <template #option="{ name }">
                    <div class="py-2 px-3">{{ name }}</div>
                  </template>
                  <template #selected-option="{ name }">
                    <div class="py-2 px-3">{{ name }}</div>
                  </template>
                </v-select>
              </div>
          
              <!-- Об'єм двигуна -->
              <div class="form-field">
                <label for="engineVolume" class="block text-sm font-medium text-gray-700 mb-3 flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M7 4a1 1 0 011-1h4a1 1 0 011 1v1h1.5a1.5 1.5 0 011.5 1.5v12a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 014 18.5v-12A1.5 1.5 0 015.5 5H7V4z" />
                    <path d="M12 8a1 1 0 100-2 1 1 0 000 2z" />
                  </svg>
                  Об'єм двигуна см<sup>3</sup> - кВт:
                </label>
                <input 
                  type="text"
                  name="engineVolume"
                  id="engineVolume"
                  v-model="volumeEngine"
                  class="w-full h-14 px-5 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-200 bg-white"
                  placeholder="Введіть об'єм двигуна"
                >
              </div>
          
              <!-- Рік -->
              <div class="form-field">
                <label for="carYear" class="block text-sm font-medium text-gray-700 mb-3 flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                  </svg>
                  Рік:
                </label>
                <select
                  name="carYear"
                  id="carYear"
                  v-model="carYear"
                  class="w-full h-14 px-5 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-200 appearance-none bg-white bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1jaGV2cm9uLWRvd24iPjxwYXRoIGQ9Im02IDkgNiA2IDYtNiIvPjwvc3ZnPg==')] bg-no-repeat bg-[center_right_1rem]"
                >
                  <option v-for="year in Array.from({length: 35}, (_, i) => 2024 - i)" :value="year">{{ year }}</option>
                </select>
              </div>
            </div>
          
            <!-- Results Table -->
            <div class="results-table korea-calc-form__results-table mt-10 bg-green-50 rounded-2xl shadow-inner p-20">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                
                <!-- Левая колонка -->
                <table class="w-full">
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Ціна авто:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      $<span class="usa-calc-form__price">{{ price }}</span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Аукціонний збір:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkAuctionPrice()">$<span class="usa-calc-form__auction">{{ getAuctionPrice }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">account.currency_convertation:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkCalc()">$<span class="usa-calc-form__excise">{{ convert }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Страхування:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      $<span v-if="checkCalc()" class="usa-calc-form__insurance">{{ insurance }}</span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Доставка до порту:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkCalc()">$<span class="usa-calc-form__port-delivery">{{ portDelivery }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Доставка Ro-Ro:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkCalc()">$<span class="usa-calc-form__port-delivery">{{ roDelivery }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Корея Fee:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkCalc()">$<span class="usa-calc-form__port-delivery">{{ koreaFee }}</span></span>
                    </td>
                  </tr>
                </table>
            
                <!-- Правая колонка -->
                <table class="w-full">
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Акциз:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkExciseTax()">$<span class="usa-calc-form__excise">{{ exciseTax }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Мито:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkDuty()">$<span class="usa-calc-form__duty">{{ duty }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">ПДВ:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkVat()">$<span class="usa-calc-form__vat">{{ vat }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Брокер:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkBroker()">$<span class="usa-calc-form__customs-summ">{{ broker }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Експедиція:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkExpedit()">$<span class="usa-calc-form__broker">{{ expedit }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Доставка до міста Львів:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkKyivDelivery()">$<span class="usa-calc-form__kyiv">{{ kyivDelivery }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-b border-green-100">
                    <td class="py-3 text-sm text-gray-700">Сертифікація:</td>
                    <td class="py-3 text-right font-medium text-gray-900">
                      <span v-if="checkCert()">$<span class="usa-calc-form__certification">{{ cert }}</span></span>
                    </td>
                  </tr>
                </table>
            
                <!-- Третья таблица: растягиваем на всю ширину -->
                <table class="w-full md:col-span-2 mt-2">
                  <tr class="border-t border-green-200">
                    <td class="pt-4 pb-2 text-sm text-gray-700">Послуги компанії:</td>
                    <td class="pt-4 pb-2 text-right font-medium text-gray-900">
                      <span v-if="checkServices()">$<span class="usa-calc-form__services">{{ services }}</span></span>
                    </td>
                  </tr>
                  <tr class="border-t border-green-200">
                    <td class="pt-4 pb-2 text-sm text-gray-700">Постановка на облік:</td>
                    <td class="pt-4 pb-2 text-right font-medium text-gray-900">
                      <span v-if="checkRegister()">$<span class="usa-calc-form__register">{{ register }}</span></span>
                    </td>
                  </tr>
                  <tr>
                    <td class="pt-4 pb-2 font-medium text-green-800">Ціна за авто з Кореї під ключ:</td>
                    <td class="pt-4 pb-2 text-right font-bold text-green-800 text-lg results-table__cell">
                      <span v-if="checkCalc()">$<b class="usa-calc-form__total">{{ totalSum }}</b></span>
                    </td>
                  </tr>
                </table>
            
              </div>
            </div>            
          </form>
          
    </div>
</calculator-korea>

          {% endraw %}
        </div>
      </div>
    </div>
    <script>
      $(document).ready(function () {
        let navToggle = document.querySelector(".nav-toggle"),
          nav = document.querySelector(".main-nav"),
          navClose = document.querySelector(".main-nav__icon-close");

        if (navToggle && nav) {
          nav.classList.remove("main-nav--no-js");
          navToggle.addEventListener("click", function (e) {
            e.preventDefault();
            nav.classList.add("main-nav--active");
          });

          navClose.addEventListener("click", function (e) {
            e.preventDefault();
            if (nav.classList.contains("main-nav--active")) {
              nav.classList.remove("main-nav--active");
            }
          });

          window.addEventListener("keydown", function (event) {
            if (event.keyCode == 27) {
              if (nav.classList.contains("main-nav--active")) {
                nav.classList.remove("main-nav--active");
              }
            }
          });
        }

        //contact popup
        let contactPopup = document.querySelector(".popup--contact"),
          contactPopupClose = contactPopup.querySelector(".popup__icon-close"),
          contactPopupOpen = document.querySelectorAll(".btn--popup-contact"),
          contactTelField = document.querySelector(".popup__telephone-field"),
          contactNameField = document.querySelector(".popup__name-field");

        if (contactPopupClose) {
          contactPopupClose.addEventListener("click", function (e) {
            e.preventDefault();
            contactPopup.classList.remove("popup--active");
          });
        }

        window.addEventListener("keydown", function (event) {
          if (event.keyCode == 27) {
            if (contactPopup.classList.contains("popup--active")) {
              contactPopup.classList.remove("popup--active");
            }
          }
        });

        //diller popup
        let offerPopup = document.querySelector(".popup--offer"),
          contactPopupCloseOffer =
            offerPopup.querySelector(".popup__icon-close"),
          contactPopupOpenOffer =
            document.querySelectorAll(".btn--popup-offer");
        // contactTelField = document.querySelector('.popup__telephone-field'),
        // contactNameField = document.querySelector('.popup__name-field');

        if (contactPopupCloseOffer) {
          contactPopupCloseOffer.addEventListener("click", function (e) {
            e.preventDefault();
            offerPopup.classList.remove("popup--active");
          });
        }

        window.addEventListener("keydown", function (event) {
          if (event.keyCode == 27) {
            if (offerPopup.classList.contains("popup--active")) {
              offerPopup.classList.remove("popup--active");
            }
          }
        });

        if (contactPopup && contactPopupOpen) {
          contactTelField.addEventListener("focus", function () {
            contactTelField.value = "+380";
          });

          contactPopup.classList.remove("popup--no-js");
          for (let i = 0; i < contactPopupOpen.length; i++) {
            contactPopupOpen[i].addEventListener("click", function (e) {
              e.preventDefault();
              contactPopup.classList.add("popup--active");
              contactNameField.focus();
            });
          }
        }
        if (offerPopup && contactPopupOpenOffer) {
          offerPopup.classList.remove("popup--no-js");

          for (let i = 0; i < contactPopupOpenOffer.length; i++) {
            contactPopupOpenOffer[i].addEventListener("click", function (e) {
              e.preventDefault();
              offerPopup.classList.add("popup--active");
              contactNameField.focus();
            });
          }
        }
      });

      (function (w) {
        var loadJS = function (src, cb) {
          var ref = w.document.getElementsByTagName("script")[0];
          var script = w.document.createElement("script");
          script.src = src;
          script.async = true;
          ref.parentNode.insertBefore(script, ref);
          if (cb && typeof cb === "function") {
            script.onload = cb;
          }
          return script;
        };
        // commonjs
        if (typeof module !== "undefined") {
          module.exports = loadJS;
        } else {
          w.loadJS = loadJS;
        }
      })(typeof global !== "undefined" ? global : this);

      // ===============================================
      // 2 START IntersectionObserver
      // ===============================================

      /* W3C Intersection Observer Polyfill https://github.com/w3c/IntersectionObserver  */
      (function (e, f) {
        function m(a) {
          this.time = a.time;
          this.target = a.target;
          this.rootBounds = a.rootBounds;
          this.boundingClientRect = a.boundingClientRect;
          this.intersectionRect = a.intersectionRect || l();
          this.isIntersecting = !!a.intersectionRect;
          a = this.boundingClientRect;
          a = a.width * a.height;
          var b = this.intersectionRect,
            b = b.width * b.height;
          this.intersectionRatio = a ? b / a : this.isIntersecting ? 1 : 0;
        }
        function c(a, b) {
          b = b || {};
          if ("function" != typeof a)
            throw Error("callback must be a function");
          if (b.root && 1 != b.root.nodeType)
            throw Error("root must be an Element");
          this._checkForIntersections = u(
            this._checkForIntersections.bind(this),
            this.THROTTLE_TIMEOUT
          );
          this._callback = a;
          this._observationTargets = [];
          this._queuedEntries = [];
          this._rootMarginValues = this._parseRootMargin(b.rootMargin);
          this.thresholds = this._initThresholds(b.threshold);
          this.root = b.root || null;
          this.rootMargin = this._rootMarginValues
            .map(function (a) {
              return a.value + a.unit;
            })
            .join(" ");
        }
        function u(a, b) {
          var d = null;
          return function () {
            d ||
              (d = setTimeout(function () {
                a();
                d = null;
              }, b));
          };
        }
        function q(a, b, d, c) {
          "function" == typeof a.addEventListener
            ? a.addEventListener(b, d, c || !1)
            : "function" == typeof a.attachEvent && a.attachEvent("on" + b, d);
        }
        function r(a, b, d, c) {
          "function" == typeof a.removeEventListener
            ? a.removeEventListener(b, d, c || !1)
            : "function" == typeof a.detatchEvent &&
              a.detatchEvent("on" + b, d);
        }
        function n(a) {
          try {
            var b = a.getBoundingClientRect();
          } catch (d) {}
          if (!b) return l();
          (b.width && b.height) ||
            (b = {
              top: b.top,
              right: b.right,
              bottom: b.bottom,
              left: b.left,
              width: b.right - b.left,
              height: b.bottom - b.top,
            });
          return b;
        }
        function l() {
          return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };
        }
        function t(a, b) {
          for (; b; ) {
            if (b == a) return !0;
            b = p(b);
          }
          return !1;
        }
        function p(a) {
          return (a = a.parentNode) && 11 == a.nodeType && a.host ? a.host : a;
        }
        if (
          "IntersectionObserver" in e &&
          "IntersectionObserverEntry" in e &&
          "intersectionRatio" in e.IntersectionObserverEntry.prototype
        )
          "isIntersecting" in e.IntersectionObserverEntry.prototype ||
            Object.defineProperty(
              e.IntersectionObserverEntry.prototype,
              "isIntersecting",
              {
                get: function () {
                  return 0 < this.intersectionRatio;
                },
              }
            );
        else {
          var g = [];
          c.prototype.THROTTLE_TIMEOUT = 100;
          c.prototype.POLL_INTERVAL = null;
          c.prototype.USE_MUTATION_OBSERVER = !0;
          c.prototype.observe = function (a) {
            if (
              !this._observationTargets.some(function (b) {
                return b.element == a;
              })
            ) {
              if (!a || 1 != a.nodeType)
                throw Error("target must be an Element");
              this._registerInstance();
              this._observationTargets.push({ element: a, entry: null });
              this._monitorIntersections();
              this._checkForIntersections();
            }
          };
          c.prototype.unobserve = function (a) {
            this._observationTargets = this._observationTargets.filter(
              function (b) {
                return b.element != a;
              }
            );
            this._observationTargets.length ||
              (this._unmonitorIntersections(), this._unregisterInstance());
          };
          c.prototype.disconnect = function () {
            this._observationTargets = [];
            this._unmonitorIntersections();
            this._unregisterInstance();
          };
          c.prototype.takeRecords = function () {
            var a = this._queuedEntries.slice();
            this._queuedEntries = [];
            return a;
          };
          c.prototype._initThresholds = function (a) {
            a = a || [0];
            Array.isArray(a) || (a = [a]);
            return a.sort().filter(function (a, d, c) {
              if ("number" != typeof a || isNaN(a) || 0 > a || 1 < a)
                throw Error(
                  "threshold must be a number between 0 and 1 inclusively"
                );
              return a !== c[d - 1];
            });
          };
          c.prototype._parseRootMargin = function (a) {
            a = (a || "0px").split(/\s+/).map(function (a) {
              a = /^(-?\d*\.?\d+)(px|%)$/.exec(a);
              if (!a)
                throw Error(
                  "rootMargin must be specified in pixels or percent"
                );
              return { value: parseFloat(a[1]), unit: a[2] };
            });
            a[1] = a[1] || a[0];
            a[2] = a[2] || a[0];
            a[3] = a[3] || a[1];
            return a;
          };
          c.prototype._monitorIntersections = function () {
            this._monitoringIntersections ||
              ((this._monitoringIntersections = !0),
              this.POLL_INTERVAL
                ? (this._monitoringInterval = setInterval(
                    this._checkForIntersections,
                    this.POLL_INTERVAL
                  ))
                : (q(e, "resize", this._checkForIntersections, !0),
                  q(f, "scroll", this._checkForIntersections, !0),
                  this.USE_MUTATION_OBSERVER &&
                    "MutationObserver" in e &&
                    ((this._domObserver = new MutationObserver(
                      this._checkForIntersections
                    )),
                    this._domObserver.observe(f, {
                      attributes: !0,
                      childList: !0,
                      characterData: !0,
                      subtree: !0,
                    }))));
          };
          c.prototype._unmonitorIntersections = function () {
            this._monitoringIntersections &&
              ((this._monitoringIntersections = !1),
              clearInterval(this._monitoringInterval),
              (this._monitoringInterval = null),
              r(e, "resize", this._checkForIntersections, !0),
              r(f, "scroll", this._checkForIntersections, !0),
              this._domObserver &&
                (this._domObserver.disconnect(), (this._domObserver = null)));
          };
          c.prototype._checkForIntersections = function () {
            var a = this._rootIsInDom(),
              b = a ? this._getRootRect() : l();
            this._observationTargets.forEach(function (d) {
              var c = d.element,
                h = n(c),
                f = this._rootContainsTarget(c),
                k = d.entry,
                g = a && f && this._computeTargetAndRootIntersection(c, b);
              d = d.entry = new m({
                time: e.performance && performance.now && performance.now(),
                target: c,
                boundingClientRect: h,
                rootBounds: b,
                intersectionRect: g,
              });
              k
                ? a && f
                  ? this._hasCrossedThreshold(k, d) &&
                    this._queuedEntries.push(d)
                  : k && k.isIntersecting && this._queuedEntries.push(d)
                : this._queuedEntries.push(d);
            }, this);
            this._queuedEntries.length &&
              this._callback(this.takeRecords(), this);
          };
          c.prototype._computeTargetAndRootIntersection = function (a, b) {
            if ("none" != e.getComputedStyle(a).display) {
              var d = n(a);
              a = p(a);
              for (var c = !1; !c; ) {
                var h = null,
                  g = 1 == a.nodeType ? e.getComputedStyle(a) : {};
                if ("none" == g.display) return;
                a == this.root || a == f
                  ? ((c = !0), (h = b))
                  : a != f.body &&
                    a != f.documentElement &&
                    "visible" != g.overflow &&
                    (h = n(a));
                if (h) {
                  var g = Math.max(h.top, d.top),
                    k = Math.min(h.bottom, d.bottom),
                    l = Math.max(h.left, d.left),
                    d = Math.min(h.right, d.right),
                    h = d - l,
                    m = k - g,
                    d = 0 <= h &&
                      0 <= m && {
                        top: g,
                        bottom: k,
                        left: l,
                        right: d,
                        width: h,
                        height: m,
                      };
                  if (!d) break;
                }
                a = p(a);
              }
              return d;
            }
          };
          c.prototype._getRootRect = function () {
            if (this.root) var a = n(this.root);
            else {
              a = f.documentElement;
              var b = f.body;
              a = {
                top: 0,
                left: 0,
                right: a.clientWidth || b.clientWidth,
                width: a.clientWidth || b.clientWidth,
                bottom: a.clientHeight || b.clientHeight,
                height: a.clientHeight || b.clientHeight,
              };
            }
            return this._expandRectByRootMargin(a);
          };
          c.prototype._expandRectByRootMargin = function (a) {
            var b = this._rootMarginValues.map(function (b, c) {
                return "px" == b.unit
                  ? b.value
                  : (b.value * (c % 2 ? a.width : a.height)) / 100;
              }),
              b = {
                top: a.top - b[0],
                right: a.right + b[1],
                bottom: a.bottom + b[2],
                left: a.left - b[3],
              };
            b.width = b.right - b.left;
            b.height = b.bottom - b.top;
            return b;
          };
          c.prototype._hasCrossedThreshold = function (a, b) {
            a = a && a.isIntersecting ? a.intersectionRatio || 0 : -1;
            b = b.isIntersecting ? b.intersectionRatio || 0 : -1;
            if (a !== b)
              for (var c = 0; c < this.thresholds.length; c++) {
                var e = this.thresholds[c];
                if (e == a || e == b || e < a !== e < b) return !0;
              }
          };
          c.prototype._rootIsInDom = function () {
            return !this.root || t(f, this.root);
          };
          c.prototype._rootContainsTarget = function (a) {
            return t(this.root || f, a);
          };
          c.prototype._registerInstance = function () {
            0 > g.indexOf(this) && g.push(this);
          };
          c.prototype._unregisterInstance = function () {
            var a = g.indexOf(this);
            -1 != a && g.splice(a, 1);
          };
          e.IntersectionObserver = c;
          e.IntersectionObserverEntry = m;
        }
      })(window, document);

      // START
      // ================================================
      function google_maps_init() {
        var locations = [
          [
            "г. Киев, +38 044 290 47 55 - Сечевых стрельцов (Артёма)77, оф. 316",
            50.456695,
            30.488482,
            1,
          ],
          [
            "2750 Taylor Avenue, Suite A-26, Orlando, Florida 32806",
            28.5116692,
            -81.3800225,
            1,
          ],
        ];
        var origin = new google.maps.LatLng(locations[0][1], locations[0][2]);
        var map = new google.maps.Map(document.getElementById("map"), {
          zoom: 3,

          // center: {lat: 31.865944, lng: -32.495234},
          center: origin,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          styles: [
            {
              featureType: "administrative",
              elementType: "labels.text.fill",
              stylers: [
                {
                  color: "#444444",
                },
              ],
            },
            {
              featureType: "landscape",
              elementType: "all",
              stylers: [
                {
                  color: "#f2f2f2",
                },
              ],
            },
            {
              featureType: "poi",
              elementType: "all",
              stylers: [
                {
                  visibility: "off",
                },
              ],
            },
            {
              featureType: "road",
              elementType: "all",
              stylers: [
                {
                  saturation: -100,
                },
                {
                  lightness: 45,
                },
              ],
            },
            {
              featureType: "road.highway",
              elementType: "all",
              stylers: [
                {
                  visibility: "simplified",
                },
              ],
            },
            {
              featureType: "road.arterial",
              elementType: "labels.icon",
              stylers: [
                {
                  visibility: "off",
                },
              ],
            },
            {
              featureType: "transit",
              elementType: "all",
              stylers: [
                {
                  visibility: "off",
                },
              ],
            },
            {
              featureType: "water",
              elementType: "all",
              stylers: [
                {
                  color: "#46bcec",
                },
                {
                  visibility: "on",
                },
              ],
            },
          ],
        });

        var infowindow = new google.maps.InfoWindow();

        var marker;

        var markerIcon = {
          // url: "img/marker.svg",
          scaledSize: new google.maps.Size(130, 130),
        };

        for (let i = 0; i < locations.length; i++) {
          marker = new google.maps.Marker({
            position: new google.maps.LatLng(locations[i][1], locations[i][2]),
            map: map,
            icon: markerIcon,
            animation: google.maps.Animation.DROP,
          });

          google.maps.event.addListener(
            marker,
            "click",
            (function (marker, i) {
              return function () {
                infowindow.setContent(locations[i][0]);
                infowindow.open(map, marker);
              };
            })(marker, i)
          );
        }
      }

      function google_maps_lazyload(api_key) {
        if (api_key) {
          var options = {
            rootMargin: "100px",
            threshold: 0,
          };

          var observer = new IntersectionObserver(function (entries, self) {
            var isIntersecting =
              typeof entries[0].isIntersecting === "boolean"
                ? entries[0].isIntersecting
                : entries[0].intersectionRatio > 0;
            if (isIntersecting) {
              var mapsJS = document.createElement("script");
              mapsJS.src =
                "https://maps.googleapis.com/maps/api/js?callback=google_maps_init&key=" +
                api_key;
              document.getElementsByTagName("head")[0].appendChild(mapsJS);
              self.unobserve(map);
            }
          }, options);

          observer.observe(map);
        }
      }
      $(document).ready(function () {
        google_maps_lazyload("AIzaSyCAzc4QvrCrYxOLfT-3z2Jw8XRyU9g32O4");
      });

      var videoWrap = document.querySelector(".page-header__video-wrap");
      var mq = window.matchMedia("(min-width: 960px)");

      if (videoWrap && device.desktop() && mq.matches) {
        videoWrap.innerHTML =
          '<video class="page-header__video" width="100%" height="auto" autoplay  muted loop><source src="img/video-bg.mp4" type="video/mp4"></video>';
      }
    </script>
{% endblock %}
